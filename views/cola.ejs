
    <!DOCTYPE html>
    <html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/jpg" href="favicon.png" />
    
        <link rel="stylesheet" href="main.css">
        <script src="navbarC.js"></script>
        
        <!--FONT AWESOME -->
        <script src="https://kit.fontawesome.com/ca048bf1d7.js" crossorigin="anonymous"></script>
        
    
        <!--BOOTSTRAP-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
        <!--BOXICON-->
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
        <!--GOOGLE FONTS -->
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
        <!--DATATABLE-->
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
        <title>Salas de estudio</title>
    </head>
    
    <body style="display: flex; flex-direction: column; min-height: 100vh;">
    
        <DIV>
            <div class="text-c ptb-3">
                <H1>Disponibildad de Salas</H1>
            </div>
        </DIV>
    
    
        <div class="table-responsive" id="margintable">
            <table id="table" class="table table-striped text-center mt-4 " style="width: 100%; height: 100%;">
                <thead id="titletable">
                    <tr>
                        <th>NUMERO DE SALA</th>
                        <th>CAPACIDAD</th>
                        <th>ESTADO</th>
                        <th>HORA DISPONIBILIDAD</th>
                    </tr>
                </thead>
                <tbody>
                    <% results.forEach((solicitud)=> { %>
                        <tr>
              
                            <td>
                                <%= solicitud.numero_sala %>
                            </td>
                   
                            <td>
                                <%= solicitud.capacidad %>
                            </td>


                            
                                <% if( solicitud.estado  == 'Disponible'){ %>

                                    <td style="background-color: #198754; color: white;">
                                        <%= solicitud.estado %>
                                    </td>
                                    
                                    <td >
                                        Ahora mismo
                                    </td>
                                <% }else if(solicitud.estado  == 'Ocupada'){ %>

                                    <td style="background-color: #ffc107; color: white;">
                                        <%= solicitud.estado %>
                                    </td>

                                    <td >
                                    <%= solicitud.hora_final %>
                                    </td>
                                <% }else if(solicitud.estado  == 'Deshabilitada'){ %>
                                    <td style="background-color: red; color: white;">
                                        <%= solicitud.estado %>
                                    </td>

                                    <td >
                                        Sala actualmente deshabilitada
                                    </td>
                                <% } %>
                          
                        </tr>
                        <% }) %>
                            <!-- Agrega más filas según tus necesidades -->
                </tbody>
            </table>
        </div>
    
        <div style="height: 150px;">
    
        </div>
    

    
        <!--cdn bootstrap js-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <!--cdn alertas js-->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
    
        <!--CDN de la datatables-->
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    
        <script>
            setInterval(function() {
            // Refresca la página
            location.reload();
            }, 10000);
        </script>
    </body>
    
    </html>
